# Netlify configuration for production deployment
[build]
  command = "npm run build"
  publish = "dist"
  node_version = "20"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[env]
  [env.production]
    VITE_API_BASE_URL = "http://housingms.runasp.net"
    VITE_OAUTH_SERVER_URL = "http://housingms.runasp.net"
    VITE_TRPC_URL = "http://housingms.runasp.net/api/trpc"
  force = true

# SPA routing - redirect all non-file requests to index.html
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
